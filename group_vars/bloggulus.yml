---
server_hostname: bloggulus
server_mounted_volumes:
  - /mnt/bloggulus_db

postgres_exporter_env: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  35343431346136633335346465363131393133336636643863636632626361326465663931343565
  6639653664316530323361666632613164333539623665310a393665323630366431336339636566
  65376366363865303534626162623137346261666435373433326663636239323532353039346262
  3134373936653937610a643265633537323234343663353733393438656334643062373936663933
  38393837353335636530316365643938663231373432383433633839316139646461613339303362
  65323765343461366265356164643665643365643732353237326630323238666331353466656435
  31373735363066316431376561336632356530646138636231656133666164653532386134393737
  30313038343532653836663935626665656237363762643739633966393732343832656164316365
  38366631663833336266323465353237306164353637343565646137643836386639

caddy_config: |
  {
    servers {
      metrics
    }
  }
  bloggulus.com,
  www.bloggulus.com {
    metrics /caddy/metrics
    handle_path /server/* {
      reverse_proxy 127.0.0.1:9100
    }
    handle_path /database/* {
      reverse_proxy 127.0.0.1:9187
    }
    reverse_proxy 127.0.0.1:5000
  }

postgresql_data_dir: /mnt/bloggulus_db/data

postgresql_users:
  - username: bloggulus
    password: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      62623632383038306239663663373433663333326330643730383362336239376162613438366465
      3164316336366333373835663238323433656161396561620a353562383532656261653862336539
      30663831323236666236623437653030656661613136306135396565373136393561343136653630
      3366383936363938370a343038663436333661633336386139316537303938313235666166613562
      61616562646138373237336434343164326530313666646437396266336564386563346262636539
      3762646334653764636266303538636432383937626337613730

postgresql_databases:
  - name: bloggulus
    owner: bloggulus

# DB Version: 12
# OS Type: linux
# DB Type: web
# Total Memory (RAM): 1 GB
# CPUs num: 1
# Connections num: 50
# Data Storage: san
postgresql_tuning_parameters:
  - name: max_connections
    value: 50
  - name: shared_buffers
    value: 256MB
  - name: effective_cache_size
    value: 768MB
  - name: maintenance_work_mem
    value: 64MB
  - name: checkpoint_completion_target
    value: 0.9
  - name: wal_buffers
    value: 7864kB
  - name: default_statistics_target
    value: 100
  - name: random_page_cost
    value: 1.1
  - name: effective_io_concurrency
    value: 300
  - name: work_mem
    value: 2621kB
  - name: min_wal_size
    value: 1GB
  - name: max_wal_size
    value: 4GB

bloggulus_config: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  65643530343961343365303764353462653533636465653233313635333465316465306133343465
  6233373039613936633564626561383537616565633365610a373565666533363435393335333039
  66316231666637363438353464326533383463646330626132663031643966303164646436383465
  6264353634636531650a633365626262656565626263303133636334633636396230396136626631
  35643536333561323835396331663864363064336132343530303138303334346638376265383232
  35376537346633623639376466313632633439613561313438626139663931653934663935646561
  61636136393634663030393330393639313366353135616232626161643266353461643066396266
  31366235626237313736386238623639653339346166333033363063633232613433356237393261
  38386435663437653763303537353239323766333566663062343533383863663437653861346162
  65313935643332333539316436616135373030643836383531633866636133366335366638303136
  62366461643037643130643833393537336137346330373561646237666439623062386636616435
  37333739383839383833656233373635616236303130383139316438666433623662646337303333
  66353764616634366138303136646466633036306639393762663338626366666164396266326637
  66386264323866313937346536623334656337636631356565666331303839666661353263383364
  37663166613635363361366561313662656361343963366461383565333835313836333436353761
  30633564303662343239

pg2s3_config: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  64333736623330666566353331313337336434656431396535346666366539396634633031643330
  6332626532356263383932356662363237636664633262610a363634663032363032353865613538
  64656239336262383031613163346366326634663364633837646661613464363238623235333136
  3837663336393231390a353137353864346134366534313232343233623364653037663862626233
  63353437393237353733393063316534373137353562623636623733646363303331393562313932
  39303438383935616563353962363333646539356437643836633233663764656138383636303035
  32383734363133663039626665306261316664643666616536353236386135353661346463323234
  37646531613461313363323531373763633962386162356161613236303061663466386562393432
  38643337326332373437343731326430353930393164666639303133626134303366383336646133
  62366531373934643233313133653834613733623362373037623163636465666361636537373432
  61656232383130323061363465346231613539353235393438653162373562393432346665633064
  32343237366136646262383062623832343066643333633038663065666261363662616362643538
  35363765366635343962353739376231373039316239346265626230303962616139613364613933
  38393032336264383231646331666663323561643130363635353462656335633533346265346363
  38623562663463313234653137643231616262313764636261643365386436306139393766306639
  62393236623238303334623862393430393536333763366264666336613765373235613432373633
  37303131323665343538323636366238636261306562633561613262653934306565643661326330
  64323236663330313734363638653964353263656366623031353138653665633165363234333166
  36326137386439373335346564366238316566343737333137343734396262346636353234626334
  38396135626661353235633634613836383539366438646263316637633337636633376438643862
  61623937636466383635346338356265656331616663383863643463353631303030313663616466
  36616365623861346538366336313161306263306135303835386161366230623163326334373763
  32376464663231353938356433363535393563616336643332376435306631376534356434303035
  66626131363934363630613061393731643239303139653937633137346435313064386434323064
  64323739633738303330616532643934363933323532366238353462353538663164363338376634
  3064323437383734386533653032353166613630623236643831
