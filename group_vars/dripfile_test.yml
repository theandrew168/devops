---

server_hostname: dripfile-test
server_mounted_volumes:
  - /mnt/dripfile_db_test

caddy_config: |
  test.dripfile.com,
  www.test.dripfile.com {
    reverse_proxy 127.0.0.1:5000
  }

postgresql_data_dir: /mnt/dripfile_db_test/data

postgresql_users:
  - username: dripfile
    password: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      62373538663162613761616164343164393663393437313837396364343434336635353861313162
      6162316462366130333737306331386665316634306663310a343662353965306534636631363137
      36373965383664626436383361373038353761393833323734376135393861313862666135383830
      3831613238653939630a353065633631633562343062623864646437336330303062303162633231
      31616162336534343638666238383839323036376162376230366366383939386463653261363165
      6665323038346139303961326661343637386463613230346336

postgresql_databases:
  - name: dripfile
    owner: dripfile

postgresql_extensions:
  - citext
  - pgcrypto
  - pg_stat_statements

# DB Version: 12
# OS Type: linux
# DB Type: web
# Total Memory (RAM): 1 GB
# CPUs num: 1
# Connections num: 50
# Data Storage: san
postgresql_tuning_parameters:
  - name: max_connections
    value: 50
  - name: shared_buffers
    value: 256MB
  - name: effective_cache_size
    value: 768MB
  - name: maintenance_work_mem
    value: 64MB
  - name: checkpoint_completion_target
    value: 0.9
  - name: wal_buffers
    value: 7864kB
  - name: default_statistics_target
    value: 100
  - name: random_page_cost
    value: 1.1
  - name: effective_io_concurrency
    value: 300
  - name: work_mem
    value: 2621kB
  - name: min_wal_size
    value: 1GB
  - name: max_wal_size
    value: 4GB
