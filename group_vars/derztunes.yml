---
server_hostname: derztunes
server_mounted_volumes:
  - /mnt/derztunes_db

caddy_config: |
  {
    servers {
      timeouts {
        read_body   10s
        read_header 5s
        write       30s
        idle        5m
      }
    }
  }
  www.derztunes.com {
    redir https://derztunes.com{uri} permanent
  }
  derztunes.com {
    reverse_proxy 127.0.0.1:5000
  }

postgresql_version: 16
postgresql_data_dir: /mnt/derztunes_db/data

postgresql_users:
  - username: derztunes
    password: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      32653034633635393561666236663936366633623061383232663161363163386434353133376335
      3835363865613637333230366130393239643664623834330a366538306537386537393463626162
      66333439646266366632343862643237636465636237346531313238373032353638636136613739
      6633333465633130350a323836633237646632616563633130353766613661353037363166623739
      34636331373165366133653063306134653330313138313233326435336161616638643662393935
      3534663832373935303836316436356233656262373230363337

postgresql_databases:
  - name: derztunes
    owner: derztunes
  - name: demo
    owner: derztunes

# DB Version: 16
# OS Type: linux
# DB Type: web
# Total Memory (RAM): 1 GB
# CPUs num: 1
# Connections num: 50
# Data Storage: san
postgresql_tuning_parameters:
  - name: max_connections
    value: 50
  - name: shared_buffers
    value: 256MB
  - name: effective_cache_size
    value: 768MB
  - name: maintenance_work_mem
    value: 64MB
  - name: checkpoint_completion_target
    value: 0.9
  - name: wal_buffers
    value: 7864kB
  - name: default_statistics_target
    value: 100
  - name: random_page_cost
    value: 1.1
  - name: effective_io_concurrency
    value: 300
  - name: work_mem
    value: 2621kB
  - name: min_wal_size
    value: 1GB
  - name: max_wal_size
    value: 4GB

derztunes_config: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  63303032363436636361663565666434653863633239646162396230636361663064356666383262
  6539353538393837373065356365333039356535336238360a633735383964653233663532313062
  61656431646563356333656536643934613961636139313331653339383762323434336166346365
  3464666133336634630a313138396139333833613231336566373738643163303733303231666666
  38623864333466656332303464303231653866646638363962363736316535306231303935633232
  65646466383630376664303530616638396632346465346366653238306433373638316263303539
  65316130306336653761636533316135343837633337386234346637393433353161353238313531
  61373766313833636561393862386630313365313738353436653839386464616164666662306462
  30363938363539303063646230303066643862313232653836393332666636636437376462623061
  62363036353734373663656236323130386335646264353862356337643962323538353235336361
  30373161323261663133653236353062303266313064653538373962333132366136316364363830
  62323364626465323136646362353335303936333037633237613063643834366632363463333134
  31366435323165316432613063633465636532326132346265343130363865366138336163376331
  32643134386430366238376262353337346261666532376266633766646239623562343865393236
  306466653430623062663132386234613565
